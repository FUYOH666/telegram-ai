# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ Telegram AI Platform

## –î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: 2025-11-07

## ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ `config.yaml`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å SQLite

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ SQLite –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ 15 —Ç–∞–±–ª–∏—Ü —Å–æ–∑–¥–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–∞–π–¥–µ–Ω–æ 5 –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ PostgreSQL

### 3. API Gateway
- ‚úÖ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ 8 REST API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç:
  - `GET /api/v1/leads` - —Å–ø–∏—Å–æ–∫ –ª–∏–¥–æ–≤
  - `GET /api/v1/leads/{id}` - –¥–µ—Ç–∞–ª–∏ –ª–∏–¥–∞
  - `POST /api/v1/leads` - —Å–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–∞
  - `PUT /api/v1/leads/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–¥–∞
  - `GET /api/v1/conversations` - —Å–ø–∏—Å–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤
  - `GET /api/v1/conversations/{id}` - –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞
  - `GET /api/v1/analytics/metrics` - –º–µ—Ç—Ä–∏–∫–∏
  - `GET /api/v1/analytics/reports` - –æ—Ç—á–µ—Ç—ã
- ‚úÖ Health check endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ CORS middleware –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –†–æ—É—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ —Ä–µ–∞–ª—å–Ω–æ–π –ë–î

### 4. AI Client
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º vLLM —Å–µ—Ä–≤–µ—Ä–æ–º
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ `http://100.93.82.48:8000`
- ‚úÖ –ú–æ–¥–µ–ª—å: `models/Qwen3-30B-A3B-Instruct-2507-AWQ-4bit`
- ‚úÖ Timeout –Ω–∞—Å—Ç—Ä–æ–µ–Ω (30s)

### 5. Voice Handler
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º ASR —Å–µ—Ä–≤–µ—Ä–æ–º
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ `http://100.93.82.48:8001`
- ‚úÖ Timeout –Ω–∞—Å—Ç—Ä–æ–µ–Ω (180s –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∞—É–¥–∏–æ)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤–∫–ª—é—á–µ–Ω–∞

### 6. –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞
- ‚úÖ `scripts/start_telegram_bot.py` - –∑–∞–ø—É—Å–∫ Telegram Bot
- ‚úÖ `scripts/start_api_gateway.py` - –∑–∞–ø—É—Å–∫ API Gateway
- ‚úÖ `scripts/start_worker.py` - –∑–∞–ø—É—Å–∫ Worker Service
- ‚úÖ –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ

### 7. Shared –º–æ–¥—É–ª–∏
- ‚úÖ `shared/database` - –º–æ–¥–µ–ª–∏ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ `shared/cache` - Redis –∫–ª–∏–µ–Ω—Ç
- ‚úÖ `shared/config` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ `shared/events` - —Å—Ö–µ–º—ã —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

### 8. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ 4 —Å–µ—Ä–≤–∏—Å–∞ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ Shared –º–æ–¥—É–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º —Å–µ—Ä–≤–∏—Å–∞–º
- ‚úÖ Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. Redis
- ‚ö†Ô∏è Redis –Ω–µ –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- ‚úÖ –ö–ª–∏–µ–Ω—Ç Redis –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- üìù –î–ª—è production: –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ `docker-compose up redis`

### 2. –ò–º–ø–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚ö†Ô∏è –ò–∑-–∑–∞ –¥–µ—Ñ–∏—Å–æ–≤ –≤ –∏–º–µ–Ω–∞—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (`telegram-bot`, `api-gateway`) —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Python –∏–º–ø–æ—Ä—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä—è–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã —á–µ—Ä–µ–∑ `importlib.util` –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –≠—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–ø–æ—Å–æ–± –∏–º–ø–æ—Ä—Ç–∞

### 3. Pytest
- ‚ö†Ô∏è Pytest –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Ç–µ–∫—É—â–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- ‚úÖ –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–ø—É—Å–∫—É
- üìù –î–ª—è –∑–∞–ø—É—Å–∫–∞: `uv add --dev pytest pytest-asyncio && uv run pytest`

### 4. Worker Service
- ‚ö†Ô∏è Celery worker –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, –∑–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–¢–∞–±–ª–∏—Ü –≤ –ë–î**: 15
- **–ê–∫—Ç–∏–≤–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤**: 5
- **API Endpoints**: 8
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤**: 4
- **Shared –º–æ–¥—É–ª–µ–π**: 5
- **–°–∫—Ä–∏–ø—Ç–æ–≤ –∑–∞–ø—É—Å–∫–∞**: 3

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
1. **Telegram Bot Service** - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ `scripts/start_telegram_bot.py`
2. **API Gateway** - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ `scripts/start_api_gateway.py`
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å SQLite, –≥–æ—Ç–æ–≤ –∫ PostgreSQL
4. **AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Å–µ—Ä–≤–µ—Ä–∞–º
5. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

### üìù –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
1. **Redis** - –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ rate limiting (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ docker-compose)
2. **PostgreSQL** - –¥–ª—è production (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ docker-compose)
3. **Celery Worker** - –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞)

## üéØ –í—ã–≤–æ–¥—ã

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ API Gateway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å AI –∏ ASR —Å–µ—Ä–≤–µ—Ä–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞ —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –∏ –Ω–µ –º–µ—à–∞—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞. Redis –∏ PostgreSQL –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Telegram Bot: `uv run python scripts/start_telegram_bot.py`
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å API Gateway: `uv run python scripts/start_api_gateway.py`
3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–ø—É—Å—Ç–∏—Ç—å Redis: `docker-compose -f infrastructure/docker-compose.yml up redis`
4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pytest: `uv add --dev pytest pytest-asyncio`
5. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã: `uv run pytest tests/ -v`

